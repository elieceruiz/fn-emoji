name: Make postinstall executable

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  set-executable:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Give execute permission to postinstall.sh
        run: chmod +x postinstall.sh

      - name: Commit updated permissions
        run: |
          git config user.name github-actions
          git config user.email github-actions@github.com
          git add postinstall.sh
          git commit -m "Make postinstall.sh executable" || echo "No changes to commit"
          git push
